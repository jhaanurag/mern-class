<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Study Planner</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div id="root"></div>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script type="text/babel">
      const { useState, useEffect } = React;
      function App() {
        const [tasks, setTasks] = useState(() =>
          JSON.parse(localStorage.getItem("tasks") || "[]"),
        );
        const [subject, setSubject] = useState("");
        const [date, setDate] = useState("");
        useEffect(() => {
          localStorage.setItem("tasks", JSON.stringify(tasks));
        }, [tasks]);
        const add = (e) => {
          e.preventDefault();
          if (!subject.trim()) return;
          setTasks([
            { id: Date.now(), subject: subject.trim(), date, done: false },
            ...tasks,
          ]);
          setSubject("");
          setDate("");
        };
        const toggle = (id) =>
          setTasks(
            tasks.map((t) => (t.id === id ? { ...t, done: !t.done } : t)),
          );
        const remove = (id) => setTasks(tasks.filter((t) => t.id !== id));
        return (
          <div className="container">
            <header>
              <h1>Study Planner</h1>
            </header>
            <form onSubmit={add} className="form">
              <input
                value={subject}
                onChange={(e) => setSubject(e.target.value)}
                placeholder="Subject or task"
              />
              <input
                type="date"
                value={date}
                onChange={(e) => setDate(e.target.value)}
              />
              <button type="submit">Add</button>
            </form>
            <ul className="list">
              {tasks.length === 0 ? (
                <li className="empty">No tasks yet</li>
              ) : (
                tasks.map((t) => (
                  <li key={t.id} className={t.done ? "item done" : "item"}>
                    <div className="left" onClick={() => toggle(t.id)}>
                      <strong>{t.subject}</strong>
                      <div className="meta">{t.date || "No date"}</div>
                    </div>
                    <button className="del" onClick={() => remove(t.id)}>
                      Delete
                    </button>
                  </li>
                ))
              )}
            </ul>
          </div>
        );
      }
      ReactDOM.createRoot(document.getElementById("root")).render(<App />);
    </script>
  </body>
</html>
